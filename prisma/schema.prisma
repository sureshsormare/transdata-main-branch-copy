generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "mongodb"
  url       = env("MONGODB_URI")
  directUrl = env("DIRECT_DATABASE_URL")
  // Add connection settings to prevent timeouts
  relationMode = "prisma"
}

model contactForm {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  name         String
  email        String
  organization String?
  contact      String?
  message      String?
  createdAt    DateTime @default(now())
}

model exp_india {
  id                     String  @id @default(auto()) @map("_id") @db.ObjectId
  buyer_address          String?
  buyer_city_state       String?
  buyer_contact_no       String?
  buyer_email_id         String?
  buyer_name             String?
  chapter                String?
  country_of_destination String?
  country_of_origin      String?
  currency               String?
  cush                   String?
  drawback               String?
  exchange_rate_usd      String?
  exporter_pin           String?
  hs_code                String?
  iec                    String?
  incoterm               String?
  incoterm_value         String?
  invoice_no             String?
  invoice_serial_number  String?
  item_number            String?
  item_rate              String?
  mode                   String?
  month                  String?
  port_code              String?
  port_of_destination    String?
  port_of_origin         String?
  product_description    String?
  quantity               String?
  shipping_bill_date     String?
  shipping_bill_no       String?
  state                  String?
  supplier_address       String?
  supplier_city_state    String?
  supplier_contact_no    String?
  supplier_email_id      String?
  supplier_name          String?
  total_amount_fc        String?
  total_value_usd        String?
  unit_rate_usd          String?
  unit_value_inr         String?
  uqc                    String?
  year                   String?

  // Primary indexes for search and filter operations
  @@index([buyer_name])
  @@index([supplier_name])
  @@index([hs_code])
  @@index([product_description])
  @@index([country_of_destination])
  @@index([country_of_origin])
  @@index([shipping_bill_date])
  // Composite indexes for common filter combinations
  @@index([buyer_name, supplier_name])
  @@index([hs_code, product_description])
  @@index([country_of_destination, country_of_origin])
  @@index([buyer_name, hs_code])
  @@index([supplier_name, hs_code])
  @@index([product_description, shipping_bill_date])
  // Multi-field indexes for search operations
  @@index([buyer_name, supplier_name, hs_code])
  @@index([product_description, hs_code, shipping_bill_date])
  @@index([country_of_destination, country_of_origin, shipping_bill_date])
  // Text search indexes for better performance
  @@index([buyer_name, supplier_name, product_description])
  @@index([hs_code, product_description, buyer_name])
  @@index([hs_code, product_description, supplier_name])
  // Date-based indexes for time-based queries
  @@index([shipping_bill_date, buyer_name])
  @@index([shipping_bill_date, supplier_name])
  @@index([shipping_bill_date, hs_code])
  // Comprehensive search index
  @@index([buyer_name, supplier_name, hs_code, product_description, shipping_bill_date, country_of_destination, country_of_origin])
}

model imp_india {
  id                       String  @id @default(auto()) @map("_id") @db.ObjectId
  a_group                  String?
  assess_value_in_inr      String?
  be_type                  String?
  bill_of_entry_no         String?
  buyer_address            String?
  buyer_city_state         String?
  buyer_contact_no         String?
  buyer_email_id           String?
  buyer_name               String?
  cha_name                 String?
  cha_number               String?
  chapter                  String?
  city                     String?
  country_of_destination   String?
  country_of_origin        String?
  currency                 String?
  cush                     String?
  duty                     String?
  exchange_rate_usd        String?
  foreign_port             String?
  hs_code                  String?
  iec                      String?
  incoterm                 String?
  incoterm_value           String?
  invoice_no               String?
  item_number              String?
  mode                     String?
  pin_code                 String?
  port_code                String?
  port_of_destination      String?
  port_of_origin           String?
  product_description      String?
  quantity                 String?
  shipping_bill_date       String?
  state                    String?
  supplier_address         String?
  supplier_city_state      String?
  supplier_contact_no      String?
  supplier_email_id        String?
  supplier_name            String?
  total_value_usd          String?
  total_value_usd_exchange String?
  unit_price_in_inr        String?
  unit_rate_usd            String?
  unit_rate_usd_again      String?
  uqc                      String?

  // Primary indexes for search and filter operations
  @@index([buyer_name])
  @@index([supplier_name])
  @@index([hs_code])
  @@index([product_description])
  @@index([country_of_destination])
  @@index([country_of_origin])
  @@index([shipping_bill_date])
  // Composite indexes for common filter combinations
  @@index([buyer_name, supplier_name])
  @@index([hs_code, product_description])
  @@index([country_of_destination, country_of_origin])
  @@index([buyer_name, hs_code])
  @@index([supplier_name, hs_code])
  @@index([product_description, shipping_bill_date])
  // Multi-field indexes for search operations
  @@index([buyer_name, supplier_name, hs_code])
  @@index([product_description, hs_code, shipping_bill_date])
  @@index([country_of_destination, country_of_origin, shipping_bill_date])
  // Text search indexes for better performance
  @@index([buyer_name, supplier_name, product_description])
  @@index([hs_code, product_description, buyer_name])
  @@index([hs_code, product_description, supplier_name])
  // Date-based indexes for time-based queries
  @@index([shipping_bill_date, buyer_name])
  @@index([shipping_bill_date, supplier_name])
  @@index([shipping_bill_date, hs_code])
  // Comprehensive search index
  @@index([buyer_name, supplier_name, hs_code, product_description, shipping_bill_date, country_of_destination, country_of_origin])
}
